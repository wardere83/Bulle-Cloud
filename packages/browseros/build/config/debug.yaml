# BrowserOS macOS Debug Build Configuration
#
# Debug builds use single architecture for faster iteration.
# Use --arch flag to specify arm64 or x64 (defaults to system architecture).
#
# Environment Variables:
#   Use !env tag to reference environment variables:
#     Example: chromium_src: !env CHROMIUM_SRC

build:
  type: debug
  architecture: arm64  # Single arch for faster debug builds

gn_flags:
  file: build/config/gn/flags.macos.debug.gn

# Explicit module execution order
modules:
  # Phase 1: Setup (no clean for faster iteration)
  - git_setup

  # Phase 2: Patches & Resources
  - download_resources
  - resources
  - chromium_replace
  - string_replaces
  - patches

  # Phase 3: Build
  - configure
  - compile

  # Phase 4: Package (no signing for debug)
  - package_macos

# Required environment variables
# Note: CHROMIUM_SRC can be provided via --chromium-src CLI flag, YAML config, or env var
# Debug builds typically don't require other env vars (no signing, no upload)

# Notification settings
notifications:
  slack: false  # Disable Slack notifications for debug builds

